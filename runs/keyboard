#!/usr/bin/env bash

set -euo pipefail


echo "Configuring keyboard (CapsLock -> Esc)..."

sudo mkdir -p /etc/X11/xorg.conf.d

echo "Creating keyboard configuration file..."
sudo tee /etc/X11/xorg.conf.d/00-keyboard.conf > /dev/null <<'EOF'
Section "InputClass"
    Identifier "system-keyboard"
    MatchIsKeyboard "on"
    Option "XkbLayout" "us"
    Option "XkbOptions" "terminate:ctrl_alt_bksp,caps:escape_shifted_capslock"
EndSection
EOF

echo "Keyboard configuration complete!"
echo "CapsLock mapped to Esc (Shift+CapsLock for CapsLock)"
