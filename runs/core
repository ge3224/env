#!/usr/bin/env bash

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
source "$SCRIPT_DIR/_common.sh"

log() {
    echo "[CORE] $1"
}

log "Installing core system tools..."

packages=(
    "wl-clipboard"
    "unzip"
    "zip"
    "tar"
    "tree"
    "fd"
    "ripgrep"
    "btop"
    "lsof"
    "strace"
    "jq"
    "fzf"
    "wlr-randr"
    "grim"
    "slurp"
    "swappy"
    "git"
    "make"
    "pkgconf"
    "lshw"
    "xdg-user-dirs"
    "nwg-look"
    "waybar"
    "keepassxc"
    "imagemagick"
)

log "Installing packages: ${packages[*]}"

if command -v pacman >/dev/null 2>&1; then
    install_packages_with_log "CORE" "${packages[@]}"
else
    log "ERROR: No supported package manager found (pacman)"
    exit 1
fi

log "Creating default XDG user directories..."
xdg-user-dirs-update

log "Core tools installation completed!"
